!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){var n,t=navigator.userAgent,r=/iphone/i.test(t),a=/chrome/i.test(t),o=/android/i.test(t);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,n){var t;if(0!==this.length&&!this.is(":hidden")&&this.get(0)===document.activeElement)return"number"==typeof e?(n="number"==typeof n?n:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,n):this.createTextRange&&((t=this.createTextRange()).collapse(!0),t.moveEnd("character",n),t.moveStart("character",e),t.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,n=this[0].selectionEnd):document.selection&&document.selection.createRange&&(t=document.selection.createRange(),e=0-t.duplicate().moveStart("character",-1e5),n=e+t.text.length),{begin:e,end:n})},unmask:function(){return this.trigger("unmask")},mask:function(t,i){var s,c,l,u,f,h,m,g;if(!t&&this.length>0){var d=(s=e(this[0])).data(e.mask.dataName);return d?d():void 0}return i=e.extend({autoclear:e.mask.autoclear,placeholder:e.mask.placeholder,completed:null},i),c=e.mask.definitions,l=[],u=m=t.length,f=null,t=String(t),e.each(t.split(""),function(e,n){"?"==n?(m--,u=e):c[n]?(l.push(new RegExp(c[n])),null===f&&(f=l.length-1),e<u&&(h=l.length-1)):l.push(null)}),this.trigger("unmask").each(function(){function s(){if(i.completed){for(var e=f;e<=h;e++)if(l[e]&&A[e]===d(e))return;i.completed.call(C)}}function d(e){return e<i.placeholder.length?i.placeholder.charAt(e):i.placeholder.charAt(0)}function p(e){for(;++e<m&&!l[e];);return e}function v(e){for(;--e>=0&&!l[e];);return e}function b(e,n){var t,r;if(!(e<0)){for(t=e,r=p(n);t<m;t++)if(l[t]){if(!(r<m&&l[t].test(A[r])))break;A[t]=A[r],A[r]=d(r),r=p(r)}$(),C.caret(Math.max(f,e))}}function k(e){var n,t,r,a;for(n=e,t=d(e);n<m;n++)if(l[n]){if(r=p(n),a=A[n],A[n]=t,!(r<m&&l[r].test(a)))break;t=a}}function y(e){w(),C.val()!=x&&C.change()}function j(e,n){var t;for(t=e;t<n&&t<m;t++)l[t]&&(A[t]=d(t))}function $(){C.val(A.join(""))}function w(e){var n,t,r,a=C.val(),o=-1;for(n=0,r=0;n<m;n++)if(l[n]){for(A[n]=d(n);r++<a.length;)if(t=a.charAt(r-1),l[n].test(t)){A[n]=t,o=n;break}if(r>a.length){j(n+1,m);break}}else A[n]===a.charAt(r)&&r++,n<u&&(o=n);return e?$():o+1<u?i.autoclear||A.join("")===S?(C.val()&&C.val(""),j(0,m)):$():($(),C.val(C.val().substring(0,o+1))),u?n:f}var C=e(this),A=e.map(t.split(""),function(e,n){if("?"!=e)return c[e]?d(n):e}),S=A.join(""),x=C.val();C.data(e.mask.dataName,function(){return e.map(A,function(e,n){return l[n]&&e!=d(n)?e:null}).join("")}),C.one("unmask",function(){C.off(".mask").removeData(e.mask.dataName)}).on("focus.mask",function(){if(!C.prop("readonly")){clearTimeout(n);var e;x=C.val(),e=w(),n=setTimeout(function(){C.get(0)===document.activeElement&&($(),e==t.replace("?","").length?C.caret(0,e):C.caret(e))},10)}}).on("blur.mask",y).on("keydown.mask",function(e){if(!C.prop("readonly")){var n,t,a,o=e.which||e.keyCode;g=C.val(),8===o||46===o||r&&127===o?(t=(n=C.caret()).begin,(a=n.end)-t==0&&(t=46!==o?v(t):a=p(t-1),a=46===o?p(a):a),j(t,a),b(t,a-1),e.preventDefault()):13===o?y.call(this,e):27===o&&(C.val(x),C.caret(0,w()),e.preventDefault())}}).on("keypress.mask",function(n){if(!C.prop("readonly")){var t,r,a,i=n.which||n.keyCode,c=C.caret();n.ctrlKey||n.altKey||n.metaKey||i<32||!i||13===i||(c.end-c.begin!=0&&(j(c.begin,c.end),b(c.begin,c.end-1)),(t=p(c.begin-1))<m&&(r=String.fromCharCode(i),l[t].test(r))&&(k(t),A[t]=r,$(),a=p(t),o?setTimeout(function(){e.proxy(e.fn.caret,C,a)()},0):C.caret(a),c.begin<=h&&s()),n.preventDefault())}}).on("input.mask paste.mask",function(){C.prop("readonly")||setTimeout(function(){var e=w(!0);C.caret(e),s()},0)}),a&&o&&C.off("input.mask").on("input.mask",function(e){var n=C.val(),t=C.caret();if(g&&g.length&&g.length>n.length){for(w(!0);t.begin>0&&!l[t.begin-1];)t.begin--;if(0===t.begin)for(;t.begin<f&&!l[t.begin];)t.begin++;C.caret(t.begin,t.begin)}else{w(!0);var r=n.charAt(t.begin);t.begin<m&&(l[t.begin]?l[t.begin].test(r)&&t.begin++:(t.begin++,l[t.begin].test(r)&&t.begin++)),C.caret(t.begin,t.begin)}s()}),w()})}})}),$(function(){function e(){return s.hide(),i.parents(".form-group").removeClass("has-error"),!(i.val().length<2)||(i.parents(".form-group").addClass("has-error"),s.show(),!1)}function n(){c.parents(".form-group").removeClass("has-error"),l.hide();var e=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;return!(""==c.val()||!e.test(c.val()))||(c.parents(".form-group").addClass("has-error"),u.show(),!1)}function t(){return f.parents(".form-group").removeClass("has-error"),m.parents(".form-group").removeClass("has-error"),h.hide(),m.val().length>0?f.val()==m.val()||(f.parents(".form-group").addClass("has-error"),m.parents(".form-group").addClass("has-error"),g.show(),!1):(f.parents(".form-group").addClass("has-error"),m.parents(".form-group").addClass("has-error"),d.show(),!1)}var r=$("#register-form-j"),a=$("#phone-j"),o=$("#form-submit-j");a.mask("8(999)999-99-99");var i=$("input[name=name]"),s=$("#name-empty-error-j");i.on("change",function(){e()});var c=$("#email-j"),l=$(".email-error-j"),u=$("#email-incorrect-error-j"),f=$("#password-j"),h=$(".password-error-j"),m=$("#password-confirmation-j"),g=$("#password-not-match-error-j"),d=$("#password-empty-error-j");f.on("change",function(){t()}),m.on("change",function(){t()}),$("#is-policy-read-j").on("change",function(){void 0!=$(this).filter(":checked").val()?o.attr("disabled",!1):o.attr("disabled",!0)}),o.on("click",function(){startSpinner(r);var a=!0;e()||(a=!1),n()||(a=!1),t()||(a=!1),a?r.trigger("submit"):stopSpinner(r)})});